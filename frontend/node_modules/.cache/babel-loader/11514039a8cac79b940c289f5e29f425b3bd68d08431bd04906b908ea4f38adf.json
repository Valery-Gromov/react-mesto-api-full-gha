{"ast":null,"code":"import _defineProperty from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import imgFail from'../images/img-fail.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var _useState=useState({userEmail:'',userPassword:''}),_useState2=_slicedToArray(_useState,2),formValue=_useState2[0],setFormValue=_useState2[1];console.log(formValue);var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValue(_objectSpread(_objectSpread({},formValue),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var userEmail=formValue.userEmail,userPassword=formValue.userPassword;if(!userEmail||!userPassword){return;}props.handleLoginSubmit(userEmail,userPassword).then(function(){setFormValue({userEmail:'',userPassword:''});}).catch(function(err){console.log(err);props.setInfoTooltipData({image:imgFail,text:\"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A! \".concat(err,\". \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\")});props.handleInfoTooltipIsOpen();});};return/*#__PURE__*/_jsx(\"section\",{className:\"sign-up\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"sign-up__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sign-up__title\",children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsx(\"input\",{id:\"sign-up-email-input\",name:\"userEmail\",type:\"email\",placeholder:\"Email\",className:\"sign-up__input\",required:true,value:formValue.userEmail||'',onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{id:\"sign-up-password-input\",name:\"userPassword\",type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"sign-up__input sign-up__input_password\",value:formValue.userPassword||'',required:true,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-up__submit\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});}export default Login;","map":{"version":3,"names":["React","useState","imgFail","Login","props","userEmail","userPassword","formValue","setFormValue","console","log","handleChange","e","target","name","value","handleSubmit","preventDefault","handleLoginSubmit","then","catch","err","setInfoTooltipData","image","text","handleInfoTooltipIsOpen"],"sources":["/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport imgFail from '../images/img-fail.svg';\n\nfunction Login(props) {\n\n   const [formValue, setFormValue] = useState({\n      userEmail: '',\n      userPassword: ''\n   });\n\n   console.log(formValue);\n\n   const handleChange = (e) => {\n      const { name, value } = e.target;\n\n      setFormValue({\n         ...formValue,\n         [name]: value\n      });\n   };\n\n   const handleSubmit = (e) => {\n      e.preventDefault();\n      const { userEmail, userPassword } = formValue;\n\n      if (!userEmail || !userPassword) {\n         return\n      }\n\n      props.handleLoginSubmit(userEmail, userPassword)\n         .then(() => {\n            setFormValue({\n               userEmail: '',\n               userPassword: ''\n            });\n         })\n         .catch((err) => {\n            console.log(err);\n            props.setInfoTooltipData({\n               image: imgFail,\n               text: `Что-то пошло не так! ${err}. Попробуйте ещё раз.`\n            });\n            props.handleInfoTooltipIsOpen();\n         })\n\n   }\n\n   return (\n      <section className=\"sign-up\">\n         <form className=\"sign-up__form\" onSubmit={handleSubmit}>\n            <h2 className=\"sign-up__title\">\n               Вход\n            </h2>\n            <input id=\"sign-up-email-input\" name=\"userEmail\" type=\"email\" placeholder=\"Email\" className=\"sign-up__input\" required value={formValue.userEmail || ''} onChange={handleChange} />\n            <input id=\"sign-up-password-input\" name=\"userPassword\" type=\"password\" placeholder=\"Пароль\" className=\"sign-up__input sign-up__input_password\" value={formValue.userPassword || ''} required onChange={handleChange} />\n            <button type=\"submit\" className=\"sign-up__submit\" >Войти</button>\n         </form>\n      </section>\n   );\n}\n\nexport default Login;\n\n"],"mappings":"2aAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,QAAO,KAAM,wBAAwB,CAAC,wFAE7C,QAASC,MAAK,CAACC,KAAK,CAAE,CAEnB,cAAkCH,QAAQ,CAAC,CACxCI,SAAS,CAAE,EAAE,CACbC,YAAY,CAAE,EACjB,CAAC,CAAC,wCAHKC,SAAS,eAAEC,YAAY,eAK9BC,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC,CAEtB,GAAMI,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACzB,cAAwBA,CAAC,CAACC,MAAM,CAAxBC,IAAI,WAAJA,IAAI,CAAEC,KAAK,WAALA,KAAK,CAEnBP,YAAY,gCACND,SAAS,wBACXO,IAAI,CAAGC,KAAK,GACd,CACL,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIJ,CAAC,CAAK,CACzBA,CAAC,CAACK,cAAc,EAAE,CAClB,GAAQZ,UAAS,CAAmBE,SAAS,CAArCF,SAAS,CAAEC,YAAY,CAAKC,SAAS,CAA1BD,YAAY,CAE/B,GAAI,CAACD,SAAS,EAAI,CAACC,YAAY,CAAE,CAC9B,OACH,CAEAF,KAAK,CAACc,iBAAiB,CAACb,SAAS,CAAEC,YAAY,CAAC,CAC5Ca,IAAI,CAAC,UAAM,CACTX,YAAY,CAAC,CACVH,SAAS,CAAE,EAAE,CACbC,YAAY,CAAE,EACjB,CAAC,CAAC,CACL,CAAC,CAAC,CACDc,KAAK,CAAC,SAACC,GAAG,CAAK,CACbZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC,CAChBjB,KAAK,CAACkB,kBAAkB,CAAC,CACtBC,KAAK,CAAErB,OAAO,CACdsB,IAAI,2GAA0BH,GAAG,yGACpC,CAAC,CAAC,CACFjB,KAAK,CAACqB,uBAAuB,EAAE,CAClC,CAAC,CAAC,CAER,CAAC,CAED,mBACG,gBAAS,SAAS,CAAC,SAAS,uBACzB,cAAM,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAET,YAAa,wBACpD,WAAI,SAAS,CAAC,gBAAgB,UAAC,0BAE/B,EAAK,cACL,cAAO,EAAE,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,MAAC,KAAK,CAAET,SAAS,CAACF,SAAS,EAAI,EAAG,CAAC,QAAQ,CAAEM,YAAa,EAAG,cAClL,cAAO,EAAE,CAAC,wBAAwB,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,sCAAQ,CAAC,SAAS,CAAC,wCAAwC,CAAC,KAAK,CAAEJ,SAAS,CAACD,YAAY,EAAI,EAAG,CAAC,QAAQ,MAAC,QAAQ,CAAEK,YAAa,EAAG,cACvN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAiB,UAAE,gCAAK,EAAS,GAC7D,EACA,CAEhB,CAEA,cAAeR,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}