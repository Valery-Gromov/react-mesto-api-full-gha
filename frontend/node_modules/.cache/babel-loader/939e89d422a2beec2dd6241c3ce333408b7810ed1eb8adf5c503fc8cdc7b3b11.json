{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';var getResponse=function getResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));};export var register=function register(userEmail,userPassword){console.log('userEmail',userEmail,'password',userPassword);return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({\"password\":userPassword,\"email\":userEmail})}).then(getResponse);};export var authorize=function authorize(userEmail,userPassword){console.log('userEmail',userEmail,'password',userPassword);return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({\"email\":userEmail,\"password\":userPassword})}).then(getResponse);};export var getToken=function getToken(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{\"Content-Type\":\"application/json\",// \"Authorization\" : `Bearer ${localStorage.getItem('token')}`\n\"Authorization\":\"Bearer \".concat(token)}}).then(getResponse);};","map":{"version":3,"names":["BASE_URL","getResponse","res","ok","json","Promise","reject","status","register","userEmail","userPassword","console","log","fetch","method","headers","body","JSON","stringify","then","authorize","getToken","token"],"sources":["/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/src/utils/mestoAuth.js"],"sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst getResponse = (res) => {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  };\n\nexport const register = (userEmail, userPassword) => {\n    console.log('userEmail', userEmail, 'password', userPassword);\n\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n            \"password\": userPassword,\n            \"email\": userEmail\n        })\n    })\n    .then(getResponse)\n}\n\nexport const authorize = (userEmail, userPassword) => {\n    console.log('userEmail', userEmail, 'password', userPassword);\n\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n            \"email\": userEmail,\n            \"password\": userPassword\n        })\n    })\n    .then(getResponse)\n}\n\nexport const getToken = (token) => {\n\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            // \"Authorization\" : `Bearer ${localStorage.getItem('token')}`\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then(getResponse)\n}"],"mappings":"AAAA,MAAO,IAAMA,SAAQ,CAAG,+BAA+B,CAEvD,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,GAAG,CAAK,CACzB,MAAOA,IAAG,CAACC,EAAE,CAAGD,GAAG,CAACE,IAAI,EAAE,CAAGC,OAAO,CAACC,MAAM,iDAAYJ,GAAG,CAACK,MAAM,EAAG,CACtE,CAAC,CAEH,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,SAAS,CAAEC,YAAY,CAAK,CACjDC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEH,SAAS,CAAE,UAAU,CAAEC,YAAY,CAAC,CAE7D,MAAOG,MAAK,WAAIb,QAAQ,YAAW,CAC/Bc,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACd,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjB,UAAU,CAAER,YAAY,CACxB,OAAO,CAAED,SACb,CAAC,CACL,CAAC,CAAC,CACDU,IAAI,CAAClB,WAAW,CAAC,CACtB,CAAC,CAED,MAAO,IAAMmB,UAAS,CAAG,QAAZA,UAAS,CAAIX,SAAS,CAAEC,YAAY,CAAK,CAClDC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEH,SAAS,CAAE,UAAU,CAAEC,YAAY,CAAC,CAE7D,MAAOG,MAAK,WAAIb,QAAQ,YAAW,CAC/Bc,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACd,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjB,OAAO,CAAET,SAAS,CAClB,UAAU,CAAEC,YAChB,CAAC,CACL,CAAC,CAAC,CACDS,IAAI,CAAClB,WAAW,CAAC,CACtB,CAAC,CAED,MAAO,IAAMoB,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAK,CAE/B,MAAOT,MAAK,WAAIb,QAAQ,cAAa,CACjCc,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC;AACA,eAAe,kBAAaO,KAAK,CACrC,CACJ,CAAC,CAAC,CACDH,IAAI,CAAClB,WAAW,CAAC,CACtB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}