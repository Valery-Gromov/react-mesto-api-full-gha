{"ast":null,"code":"import _classCallCheck from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);// тело конструктора\nthis._headers=headers;this._baseUrl=baseUrl;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(res.status);}},{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"editProfile\",value:function editProfile(name,about){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"addCard\",value:function addCard(name,link){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);// .catch(console.log)\n}},{key:\"uploadAvatar\",value:function uploadAvatar(avatar){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);// .catch(console.log)\n}}]);return Api;}();export var api=new Api({baseUrl:'http://localhost:3000',headers:{authorization:'fe3d09c0-718d-48c1-bfec-d07df0ab5ba5','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","baseUrl","headers","_headers","_baseUrl","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","name","about","method","body","JSON","stringify","link","id","avatar","api","authorization"],"sources":["/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor({ baseUrl, headers }) {\n      // тело конструктора\n      this._headers = headers;\n      this._baseUrl = baseUrl;\n    }\n\n    _checkResponse(res) {\n        return res.ok ? res.json() : Promise.reject(res.status)\n    }\n  \n    getProfile() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this._headers\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    editProfile(name, about) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                about\n              })\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    addCard(name, link) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                link\n              })\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    deleteCard(id) {\n        return fetch(`${this._baseUrl}/cards/${id}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    deleteLike(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    addLike(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n\n    uploadAvatar(avatar) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar\n              })\n        })\n        .then(this._checkResponse)\n        // .catch(console.log)\n    }\n  \n  }\n\n  \n  \n export const api = new Api({\n    baseUrl: 'http://localhost:3000',\n    headers: {\n      authorization: 'fe3d09c0-718d-48c1-bfec-d07df0ab5ba5',\n      'Content-Type': 'application/json'\n    }\n  });"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}