{"ast":null,"code":"import _defineProperty from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import*as mestoAuth from'../utils/mestoAuth.js';import imgSuccess from'../images/img-success.svg';import imgFail from'../images/img-fail.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(props){var _useState=useState({userEmail:'',userPassword:''}),_useState2=_slicedToArray(_useState,2),formValue=_useState2[0],setFormValue=_useState2[1];var navigate=useNavigate();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValue(_objectSpread(_objectSpread({},formValue),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();// здесь обработчик регистрации\nvar userEmail=formValue.userEmail,userPassword=formValue.userPassword;console.log(userEmail,userPassword);mestoAuth.register(userEmail,userPassword).then(function(res){props.setInfoTooltipData({image:imgSuccess,text:'Вы успешно зарегистрировались!'});console.log(res);props.handleInfoTooltipIsOpen();navigate('/signin',{replace:true});}).catch(function(err){console.log(err);props.setInfoTooltipData({image:imgFail,text:'Что-то пошло не так! Попробуйте ещё раз.'});props.handleInfoTooltipIsOpen();});};return/*#__PURE__*/_jsx(\"section\",{className:\"sign-up\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"sign-up__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sign-up__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{id:\"userEmail\",name:\"userEmail\",type:\"email\",placeholder:\"Email\",className:\"sign-up__input\",required:true,value:formValue.userEmail||'',onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{id:\"userPassword\",name:\"userPassword\",type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"sign-up__input sign-up__input_password\",value:formValue.userPassword||'',required:true,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-up__submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sign-up__text\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"sign-up__link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","Link","useNavigate","mestoAuth","imgSuccess","imgFail","Register","props","userEmail","userPassword","formValue","setFormValue","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","register","then","res","setInfoTooltipData","image","text","handleInfoTooltipIsOpen","replace","catch","err"],"sources":["/Users/bagetgrilov/dev/react-mesto-api-full-gha/frontend/src/components/Register.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {Link, useNavigate} from 'react-router-dom';\nimport * as mestoAuth from '../utils/mestoAuth.js'\nimport imgSuccess from '../images/img-success.svg';\nimport imgFail from '../images/img-fail.svg';\n\nfunction Register(props) {\n  const [formValue, setFormValue] = useState({\n    userEmail: '',\n    userPassword: ''\n  });\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const {name, value} = e.target;\n\n    setFormValue({\n      ...formValue,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = (e) => {\n\n    e.preventDefault();\n\n    // здесь обработчик регистрации\n    const {userEmail, userPassword} = formValue;\n    console.log(userEmail, userPassword);\n\n    mestoAuth.register(userEmail, userPassword)\n      .then((res) => {\n        props.setInfoTooltipData({\n          image: imgSuccess,\n          text: 'Вы успешно зарегистрировались!'\n        });\n        console.log(res);\n        props.handleInfoTooltipIsOpen();\n        navigate('/signin', {replace: true});\n      })\n      .catch((err) => {\n        console.log(err);\n        props.setInfoTooltipData({\n          image: imgFail,\n          text: 'Что-то пошло не так! Попробуйте ещё раз.'\n        });\n        props.handleInfoTooltipIsOpen();\n      })\n  }\n\n  return (\n    <section className=\"sign-up\">\n      <form className=\"sign-up__form\" onSubmit={handleSubmit}>\n        <h2 className=\"sign-up__title\">\n          Регистрация\n        </h2>\n        <input id=\"userEmail\" name=\"userEmail\" type=\"email\" placeholder=\"Email\" className=\"sign-up__input\" required value={formValue.userEmail || ''} onChange={handleChange} />\n        <input id=\"userPassword\" name=\"userPassword\" type=\"password\" placeholder=\"Пароль\" className=\"sign-up__input sign-up__input_password\" value={formValue.userPassword || ''} required onChange={handleChange} />\n        <button type=\"submit\" className=\"sign-up__submit\" >Зарегистрироваться</button>\n        <p className=\"sign-up__text\">\n          Уже зарегистрированы? <Link to=\"/signin\" className=\"sign-up__link\" >Войти</Link>\n        </p>\n      </form>\n    </section>\n  );\n}\n\nexport default Register;\n"],"mappings":"2aAAA,MAAOA,MAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAAQC,IAAI,CAAEC,WAAW,KAAO,kBAAkB,CAClD,MAAO,GAAKC,UAAS,KAAM,uBAAuB,CAClD,MAAOC,WAAU,KAAM,2BAA2B,CAClD,MAAOC,QAAO,KAAM,wBAAwB,CAAC,wFAE7C,QAASC,SAAQ,CAACC,KAAK,CAAE,CACvB,cAAkCP,QAAQ,CAAC,CACzCQ,SAAS,CAAE,EAAE,CACbC,YAAY,CAAE,EAChB,CAAC,CAAC,wCAHKC,SAAS,eAAEC,YAAY,eAK9B,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAE9B,GAAMW,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1B,cAAsBA,CAAC,CAACC,MAAM,CAAvBC,IAAI,WAAJA,IAAI,CAAEC,KAAK,WAALA,KAAK,CAElBN,YAAY,gCACPD,SAAS,wBACXM,IAAI,CAAGC,KAAK,GACb,CACJ,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIJ,CAAC,CAAK,CAE1BA,CAAC,CAACK,cAAc,EAAE,CAElB;AACA,GAAOX,UAAS,CAAkBE,SAAS,CAApCF,SAAS,CAAEC,YAAY,CAAIC,SAAS,CAAzBD,YAAY,CAC9BW,OAAO,CAACC,GAAG,CAACb,SAAS,CAAEC,YAAY,CAAC,CAEpCN,SAAS,CAACmB,QAAQ,CAACd,SAAS,CAAEC,YAAY,CAAC,CACxCc,IAAI,CAAC,SAACC,GAAG,CAAK,CACbjB,KAAK,CAACkB,kBAAkB,CAAC,CACvBC,KAAK,CAAEtB,UAAU,CACjBuB,IAAI,CAAE,gCACR,CAAC,CAAC,CACFP,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC,CAChBjB,KAAK,CAACqB,uBAAuB,EAAE,CAC/BhB,QAAQ,CAAC,SAAS,CAAE,CAACiB,OAAO,CAAE,IAAI,CAAC,CAAC,CACtC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACdX,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC,CAChBxB,KAAK,CAACkB,kBAAkB,CAAC,CACvBC,KAAK,CAAErB,OAAO,CACdsB,IAAI,CAAE,0CACR,CAAC,CAAC,CACFpB,KAAK,CAACqB,uBAAuB,EAAE,CACjC,CAAC,CAAC,CACN,CAAC,CAED,mBACE,gBAAS,SAAS,CAAC,SAAS,uBAC1B,cAAM,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAEV,YAAa,wBACrD,WAAI,SAAS,CAAC,gBAAgB,UAAC,oEAE/B,EAAK,cACL,cAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,MAAC,KAAK,CAAER,SAAS,CAACF,SAAS,EAAI,EAAG,CAAC,QAAQ,CAAEK,YAAa,EAAG,cACxK,cAAO,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,sCAAQ,CAAC,SAAS,CAAC,wCAAwC,CAAC,KAAK,CAAEH,SAAS,CAACD,YAAY,EAAI,EAAG,CAAC,QAAQ,MAAC,QAAQ,CAAEI,YAAa,EAAG,cAC7M,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAiB,UAAE,8GAAkB,EAAS,cAC9E,WAAG,SAAS,CAAC,eAAe,WAAC,uHACL,mBAAC,IAAI,EAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,eAAe,UAAE,gCAAK,EAAO,GAC9E,GACC,EACC,CAEd,CAEA,cAAeP,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}